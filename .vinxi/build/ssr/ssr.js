import{RouterProvider as v,createRootRoute as P,Outlet as S,HeadContent as C,Scripts as N,createFileRoute as _,lazyRouteComponent as A,createRouter as T}from"@tanstack/react-router";import{jsx as e,Fragment as p,jsxs as i}from"react/jsx-runtime";import{ConvexReactClient as E,ConvexProvider as F}from"convex/react";import{useState as d,useEffect as I}from"react";import{Lock as j,AlertCircle as M}from"lucide-react";import{Analytics as k}from"@vercel/analytics/react";import O from"tiny-invariant";import{PassThrough as D}from"node:stream";import{isbot as f}from"isbot";import u from"react-dom/server";import{defineHandlerCallback as $,transformReadableStreamWithRouter as H,transformPipeableStreamWithRouter as W,createStartHandler as G}from"@tanstack/start-server-core";function h(t){return e(v,{router:t.router})}const U=$(async({request:t,router:r,responseHeaders:s})=>{if(typeof u.renderToReadableStream=="function"){const n=await u.renderToReadableStream(e(h,{router:r}),{signal:t.signal});f(t.headers.get("User-Agent"))&&await n.allReady;const o=H(r,n);return new Response(o,{status:r.state.statusCode,headers:s})}if(typeof u.renderToPipeableStream=="function"){const n=new D;try{const a=u.renderToPipeableStream(e(h,{router:r}),{...f(t.headers.get("User-Agent"))?{onAllReady(){a.pipe(n)}}:{onShellReady(){a.pipe(n)}},onError:(l,m)=>{console.error("Error in renderToPipeableStream:",l,m)}})}catch(a){console.error("Error in renderToPipeableStream:",a)}const o=W(r,n);return new Response(o,{status:r.state.statusCode,headers:s})}throw new Error("No renderToReadableStream or renderToPipeableStream found in react-dom/server. Ensure you are using a version of react-dom that supports streaming.")}),z=()=>({routes:{__root__:{filePath:"__root.tsx",children:["/"],preloads:["/_build/assets/client-1UtBDBJl.js","/_build/assets/client-wkiQ-CGV.js"]},"/":{filePath:"index.tsx"}}});function L(t){return globalThis.MANIFEST[t]}function B(){const t=z(),r=t.routes.__root__=t.routes.__root__||{};r.assets=r.assets||[];let s="";const n=L("client"),o=n.inputs[n.handler]?.output.path;return o||O(o,"Could not find client entry in vinxi manifest"),r.assets.push({tag:"script",attrs:{type:"module",suppressHydrationWarning:!0,async:!0},children:`${s}import("${o}")`}),t}function J(){const t=B();return{...t,routes:Object.fromEntries(Object.entries(t.routes).map(([r,s])=>{const{preloads:n,assets:o}=s;return[r,{preloads:n,assets:o}]}))}}const K=new E("https://polished-flamingo-936.convex.cloud");function Q({children:t}){return e(F,{client:K,children:t})}const V="renderatl",b="ipaintai-auth";function Y({children:t}){const[r,s]=d(!1),[n,o]=d(""),[a,l]=d(""),[m,w]=d(!0);I(()=>{sessionStorage.getItem(b)==="authenticated"&&s(!0),w(!1)},[!0]);const y=c=>{c.preventDefault(),n===V?(sessionStorage.setItem(b,"authenticated"),s(!0),l("")):(l("Incorrect password. Please try again."),o(""))},R=c=>{o(c.target.value),a&&l("")};return m?null:r?e(p,{children:t}):i(p,{children:[e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:i("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",children:[e("div",{className:"flex justify-center mb-6",children:e("div",{className:"bg-blue-100 p-4 rounded-full",children:e(j,{className:"h-8 w-8 text-blue-600"})})}),e("h1",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:"Password Required"}),e("p",{className:"text-gray-600 text-center mb-8",children:"Please enter the password to access wePaintAI"}),i("form",{onSubmit:y,className:"space-y-4",children:[e("div",{children:e("input",{type:"password",value:n,onChange:R,placeholder:"Enter password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",autoFocus:!0})}),a&&i("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[e(M,{className:"h-4 w-4"}),e("span",{children:a})]}),e("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all font-medium",children:"Access App"})]}),e("div",{className:"absolute -top-1 -left-1 w-20 h-20 bg-blue-100 rounded-full opacity-50 blur-xl"}),e("div",{className:"absolute -bottom-1 -right-1 w-32 h-32 bg-purple-100 rounded-full opacity-50 blur-xl"})]})})]})}const X="/_build/assets/app-CDEWpoFa.css";function Z(){return e("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i("div",{className:"text-center",children:[e("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),e("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),e("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist."}),e("a",{href:"/",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go back to painting"})]})})}const g=P({head:()=>({meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{title:"wePaintAI - AI-Powered Painting App"}],links:[{rel:"stylesheet",href:X}]}),component:q,notFoundComponent:Z});function q(){return e(Q,{children:e(ee,{children:e(Y,{children:e(S,{})})})})}function ee({children:t}){return i("html",{children:[e("head",{children:e(C,{})}),i("body",{children:[t,e(N,{}),e(k,{})]})]})}const te=()=>import("./assets/index-Bl03ddeB.js"),x=_("/")({component:A(te,"component",()=>x.ssr)}),re=x.update({id:"/",path:"/",getParentRoute:()=>g}),ne={IndexRoute:re},oe=g._addFileChildren(ne)._addFileTypes();function se(){return T({routeTree:oe,scrollRestoration:!0})}const xe=G({createRouter:se,getRouterManifest:J})(U);export{xe as default};
